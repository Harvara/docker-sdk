{% include "env/common.env.twig" with project %}

{% include "env/key_value_store/#{project['services']['key_value_store']['engine']}.env.twig" with {
    serviceData: project['services']['key_value_store'],
    serviceName: 'key_value_store'
} %}

{% include "env/search/#{project['services']['search']['engine']}.env.twig" with {
    serviceData: project['services']['search'],
    serviceName: 'search'
} %}

{% include "env/database/#{project['services']['database']['engine']}.env.twig" with {
    serviceData: project['services']['database'],
    regionData: regionData['services']['database'],
    serviceName: 'database'
} %}

{% include "env/broker/#{project['services']['broker']['engine']}.env.twig" with {
    serviceData: project['services']['broker'],
    serviceName: 'broker',
    brokerConnections: brokerConnections
} %}

{% include "env/mail/mail.env.twig" with {
    serviceData: regionData['services']['mail']
} %}

SPRYKER_ENABLED_SCHEDULERS={"{{ applicationData['worker-id'] }}":{"base_url":"http://localhost:3012","api_key":"{{ applicationData['cronicleApiKey'] }}"}}
SPRYKER_ENABLED_SCHEDULER_STORES={{ enabledSchedulerStores | env_var }}
SPRYKER_CURRENT_SCHEDULER={{ applicationData['worker-id'] }}
SPRYKER_SCHEDULER_API_KEY={{ applicationData['cronicleApiKey'] }}
SPRYKER_SCHEDULER_ADMIN_USERNAME={{ applicationData['admin']['username'] | default('spryker') }}
SPRYKER_SCHEDULER_ADMIN_PASSWORD={{ applicationData['admin']['password'] | default('secret') }}
SPRYKER_SCHEDULER_ADMIN_EMAIL={{ applicationData['admin']['email'] | default('admin@spryker.local') }}
SPRYKER_STORE_SPECIFIC={{ project['_storeSpecific'] | json_encode | env_var }}
